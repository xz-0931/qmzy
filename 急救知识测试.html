<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>急救知识测试</title>
<script language="javascript">
function two_char(n) {
            return n >= 10 ? n : "0" + n;
        }
function time_fun(){
	var sec=0;
	setInterval(function(){sec++;
	var date=new Date(0,0);
	date.setSeconds(sec);
	var h = date.getHours();
	var m = date.getMinutes();
	var s = date.getSeconds();
	document.getElementById("mytime").innerText = two_char(h) + ":" + two_char(m) + ":" + two_char(s);
	
	},1000);
	}
function main(){
  var questionArray = new Array("Q1","Q2","Q3","Q4","Q5","Q6");
  var resultArray = new Array();
  var rightArray = new Array();
 
  //aryAns[]是从后端返回的数组,当点击交卷的时候,向后端请求正确答案的数组,赋值给aryAns[]即可;
  var aryAns = new Array(2,4,3,2,1,2);   //建立储存正确答案的数
   for (var i = 0; i < questionArray.length; i++) {
    if (Name(questionArray[i])!=10) {
      resultArray[i] = Name(questionArray[i]); 
    }else{
      alert("第"+(i+1)+"题,您未作答!!");
      return false;
    }
  }
   var right_number= 0;//计算答对的题数；
  for (var i = 0; i < questionArray.length; i++) {
    if (aryAns[i]==resultArray[i]) {
          right_number++;
          rightArray[i] = 1;
    }else{
          rightArray[i] = 0;
    }
  }
  var right_question = " ";
  var error_question = " ";
  for (var i = 0; i < rightArray.length; i++) {
      if (rightArray[i] ==1 ) {
          right_question += i+1+",";
      }else{
          error_question += i+1+",";
      }
  }
  
  var time=document.getElementById("mytime").innerHTML;
  document.getElementById("right_number").innerText = right_number;
  document.getElementById("time").innerText = time;
  if (right_question!=" ") {
      document.getElementById("right_question").innerText = right_question;
 
  }
  if (error_question!=" ") {
  document.getElementById("error_question").innerText = error_question;
 
}


}
function Name(name)
{
  var temp = document.getElementsByName(name);
  var intHot = 9;
  for(var i=0;i<temp.length;i++)
  {
     if(temp[i].checked)
      intHot = temp[i].value;
  }
  if (intHot==9) {
      return 10;
  }
  return intHot;
};
 

</script>
</head>

<body onload="time_fun()">
<center>
  		<font size="6" color="green"><b>在线检测</b></font>
        <h1>测试已开始 请开始作答  <span id="mytime">00:00:00</span></h1>
 
  	</center><br>
  	<hr>
  	<!--  下面表单将以post的方法，将数据传递给Text -->
  		<!-- 第一道题 -->
  		<p>1、创伤急救，必须遵守“三先三后”的原则，对出血伤工应该（）</p>
  		<p>
  			<input type="radio" name="Q1" value="1">先搬运后止血<br>
  			<input type="radio" name="Q1" value="2">先止血后搬运<br>
  			<input type="radio" name="Q1" value="3">先送医院后处置<br>
  			<input type="radio" name="Q1" value="4">先搬运后送医院<br>  <!-- B -->
  		</p>
  		<p>2、（）是救活触电者的首要因素
        </p>
        <p>
  			<input type="radio" name="Q2" value="1">请医生急救<br>
  			<input type="radio" name="Q2" value="2">送住医院<br>
  			<input type="radio" name="Q2" value="3">向上级报告<br>   <!-- D -->
  			<input type="radio" name="Q2" value="4">使触电者快速脱离电源<br>
  		</p>
  		<p>3、当身上的衣服烧着后,以下灭火方法中，()做法是正确的？</p>
  		<p>
  			<input type="radio" name="Q3" value="1">快速奔跑呼救<br>
  			<input type="radio" name="Q3" value="2">用手扑打火焰<br>
  			<input type="radio" name="Q3" value="3">就地打滚,压灭火焰<br>
  			<!-- c -->
  		</p>
  		<p>4、进行心脏按摩时,应用()放在按压位置</p>
  		<p>
  			<input type="radio" name="Q4" value="1">手背面<br>
  			<input type="radio" name="Q4" value="2">手掌掌根部位<br>
  			<input type="radio" name="Q4" value="3">手掌指端部位<br>    <!-- B -->
  		
  		</p>
  		<p>5、火灾发生时为什么不能乘电梯</p>
  		<p>
  			<input type="radio" name="Q5" value="1">电梯会因火灾而断电，人会被困在里面，十分危险<br>
  			<input type="radio" name="Q5" value="2">大家都乘电梯很挤<br>     <!-- A -->
  			<input type="radio" name="Q5" value="3">把电梯让给老人和孩子，自己走楼梯<br>
  			<input type="radio" name="Q5" value="4">电梯留给消防队员使用，这样他们灭火的速度会加快<br>
  		</p>
        <p>6、重一点的烫伤应用冷水冲洗至少（）分钟</p>
  		<p>
  			<input type="radio" name="Q6" value="1">20<br>
  			<input type="radio" name="Q6" value="2">30<br>     <!-- B -->
  			<input type="radio" name="Q6" value="3">40<br>
  			
  		</p>
 <button onclick="main()">交卷</button>

 <input type="button" name="返回" value="返回"  onClick="location.href='index.html'"/>
      

 <h3>
   6道题中您一共答对了<font color="red"><span id="right_number"></span></font>题，
  		花了<font color="red"><span id="time"></span></font>秒
   <br>
      正确的题目有:<span id="right_question" style="color:red"></span>
       <br>
      错误的题目有:<span id="error_question" style="color:red"></span>
  	</h3>
</body>
</html>
